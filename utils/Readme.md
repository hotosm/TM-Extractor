# Result Analysis Metrics

This Python script analyzes result json data and provides various metrics about the tasks, datasets, and resources within the result file generated by --track feature of ```tm_extractor.py```.

## Run
```bash
python result_analyzer.py your_result_json_path
```

## Metrics Explanation

### `total_tasks`

Total number of tasks present in the JSON file.

Example: 2

### `successful_tasks`

Number of tasks that completed successfully.

Example: 1

### `failed_tasks`

Number of tasks that failed.

Example: 1

### `total_datasets`

Total number of datasets present across all tasks.

Example: 2

### `total_resources`

Total count of resources (e.g., files : each exports such as kml/shp) across all datasets and tasks.

Example: 12

### `total_elapsed_time`

The total elapsed time from the earliest `started_at` timestamp to the latest `last_modified` timestamp across all tasks.

Example: "0:00:21"

### `dataset_counts`

A dictionary showing the count of resources for each dataset type.

Example:
```json
{
  "Waterways": 6,
  "Buildings": 6
}
```

## Example Explanation 

For following JSON
```json
{
  "a221affc-0e50-4231-92b5-3d0f4438f170": {
    "datasets": [
      {
        "Waterways": {
          "resources": [
            {
              "name": "waterway_1.geojson",
              "format": "geojson",
              "description": "Waterway GeoJSON",
              "url": "https://example.com/data/waterway_1.geojson",
              "last_modified": "2023-12-28T17:48:21.378667"
            },
            {
              "name": "waterway_2.kml",
              "format": "kml",
              "description": "Waterway KML",
              "url": "https://example.com/data/waterway_2.kml",
              "last_modified": "2023-12-28T17:48:21.378974"
            }
          ]
        }
      }
    ],
    "elapsed_time": "11 seconds",
    "started_at": "2023-12-28T17:48:10.076621"
  },
  "4a20c25a-a173-4082-a9e7-d5d6e7244809": "FAILURE"
}
```
In this example, the "Waterways" dataset contains two resources ("waterway_1.geojson" and "waterway_2.kml") within the task "a221affc-0e50-4231-92b5-3d0f4438f170". The total count of resources for this dataset is 2.

**Metrics Breakdown:**

- `total_tasks`: 2
- `successful_tasks`: 1 (Task "a221affc-0e50-4231-92b5-3d0f4438f170" succeeded)
- `failed_tasks`: 1 (Task "4a20c25a-a173-4082-a9e7-d5d6e7244809" failed)
- `total_datasets`: 1 (Dataset "Waterways" in the successful task)
- `total_resources`: 2 (Two resources in the "Waterways" dataset)
- `total_elapsed_time`: "0:00:11" (Elapsed time from the start of the successful task to the last resource modification)
- `resource_counts`: {"Waterways": 2} (Count of resources for the "Waterways" dataset, its the breakdown resource count for each dataset )
